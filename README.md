# marky-markdown

The thing npmjs.com uses to clean up READMEs and other markdown files

## Installation

Download node at [nodejs.org](http://nodejs.org) and install it, if you haven't already.

```sh
npm install marky-markdown --save
```

## Tests

```sh
npm install
npm test
```

```
marky-markdown
  ✓ is a function
  ✓ accepts a markdown string and returns a cheerio DOM object
  ✓ throws an error if first argument is not a string
  ✓ throws an error if second argument is present but isn't an object
syntax highlighting
  - converts github flavored markdown GFM to <code> blocks
  - adds 'lang-js' class to javascript blocks
  - adds 'lang-sh' class to shell blocks
  - adds 'hljs' class to all blocks
sanitize
  - removes script tags
  - removes other scary things like what
  - maps relative URLs to their github equivalent, if package.repository is githubby
badges
  ✓ adds a badges class to p tags containing badge images
  ✓ adds a badge-with-siblings class to p tags containing more than just a badge
gravatar
  ✓ replaces insecure gravatar img src URLs with secure HTTPs URLs
  ✓ leaves secure gravatar URLs untouched
  ✓ leaves non-gravtar URLs untouched
github
  - rewrites relative links URLs to their absolute form
packagize
  name
    ✓ prepends an h1.package-name element into readme with value of package.name
    ✓ adds .package-name-redundant class to first h1 if it's similar to package.name
    ✓ leaves first h1 alone if it differs from package.name
  description
    ✓ prepends package.description in a p.package-description element
    ✓ adds .package-description-redundant class to first p if it's similar to package.description
    ✓ leaves first p alone if it differs from package.description
fixtures
  ✓ is a key-value object
  ✓ contains stringified markdown files as values
niceties
  - supports deep linking by injecting <a> tags into headings that have DOM ids
  - replaces relative image URLs with npm CDN URLs
  - rewrites HTML frontmatter as <meta> tags
17 passing (54ms)
11 pending
```

## Dependencies

- [cheerio](https://github.com/cheeriojs/cheerio): Tiny, fast, and elegant implementation of core jQuery designed specifically for the server
- [github-url-to-object](https://github.com/zeke/github-url-to-object): Extract user, repo, and other interesting properties from GitHub URLs
- [highlight.js](https://github.com/isagalaev/highlight.js): Syntax highlighting with language autodetection.
- [is-url](https://github.com/segmentio/is-url): Check whether a string is a URL.
- [lodash](https://github.com/lodash/lodash): A utility library delivering consistency, customization, performance, &amp; extras.
- [marked](https://github.com/chjj/marked): A markdown parser built for speed
- [sanitizer](https://github.com/theSmaw/Caja-HTML-Sanitizer): Caja&#39;s HTML Sanitizer as a Node.js module
- [similarity](https://github.com/zeke/similarity): How similar are these two strings?

## Dev Dependencies

- [mocha](https://github.com/mochajs/mocha): simple, flexible, fun test framework


## License

ISC

_Generated by [package-json-to-readme](https://github.com/zeke/package-json-to-readme)_
